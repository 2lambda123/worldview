<?xml version="1.0"?>
<project name="closure-compiler" basedir="." default="resolve">

    <dirname property="closure-compiler.basedir" file="${ant.file.closure-compiler}"/>
    <property file="${closure-compiler.basedir}/build.properties"/>
    
    <target name="resolve" depends="download,unpack"/>
    
    <target name="download">
        <get src="${closure-compiler.url}" dest="${lib.artifacts.dir}" 
             skipexisting="true"/>
    </target>
        
    <target name="check-package">
        <available file="${closure-compiler.package.dir}" property="closure-compiler.available"/>
    </target>
        
    <target name="unpack" depends="check-package" unless="closure-compiler.available">
        <mkdir dir="${closure-compiler.package.dir}"/>
        <unzip src="${lib.artifacts.dir}/${closure-compiler.artifact}" 
               dest="${closure-compiler.package.dir}"/>
    </target>
        
</project>