SOTE.namespace("SOTE.util");SOTE.util.extractFromQuery=function(b,a){var c=new RegExp("[\\?&#]*"+b+"=([^&#]*)");var d=c.exec(a);if(d==null){return""}else{return d[1]}};SOTE.util.throwError=function(a){o=new YAHOO.widget.Panel("WVerror",{width:"300px",zIndex:1020,visible:false});o.setHeader("&nbsp;&nbsp;&nbsp;&nbsp;Warning");o.setBody(a);o.render(document.body);o.show();o.center();o.hideEvent.subscribe(function(b){setTimeout(function(){o.destroy()},25)})};SOTE.util.getJSON=function(d,c,f,b){var a=function(h,g,i){return f(h,g,i,c)};var e=function(i,g,h){return b(i,g,h,c)};$.ajax({url:d,dataType:"json",success:a,error:e})};SOTE.util.zeroPad=function(b,a){var c=a-b.toString().length+1;return Array(+(c>0&&c)).join("0")+b};SOTE.util.UTCDateFromISO8601String=function(dateAsString){var dateTimeArr=dateAsString.split(/T/);var yyyymmdd=dateTimeArr[0];var hhmmss=dateTimeArr[1];var year=yyyymmdd.split("-")[0];var month=eval(yyyymmdd.split("-")[1]-1);var day=yyyymmdd.split("-")[2];var hour=hhmmss.split(":")[0];var minute=hhmmss.split(":")[1];var second=hhmmss.split(":")[2];return new Date(year,month,day,hour,minute,second)};SOTE.util.ISO8601StringFromDate=function(d){var timeString=d.getFullYear()+"-"+SOTE.util.zeroPad(eval(d.getMonth()+1),2)+"-"+SOTE.util.zeroPad(d.getDate(),2)+"T"+SOTE.util.zeroPad(d.getHours(),2)+":"+SOTE.util.zeroPad(d.getMinutes(),2)+":"+SOTE.util.zeroPad(d.getSeconds(),2);return timeString};SOTE.util.DayNameFromUTCDayInt=function(a){switch(a){case 0:return"Sunday";case 1:return"Monday";case 2:return"Tuesday";case 3:return"Wednesday";case 4:return"Thursday";case 5:return"Friday";case 6:return"Saturday";default:return"Invalid"}};SOTE.util.generateProductLayersForDateRange=function(displayNameStr,wmsProductNameStr,formatStr,urlsArr,tileSizeArr,projectionStr,numZoomLevelsInt,maxExtentArr,maxResolutionFloat,preferredOpacityFloat,numDays,screenResolutionsArr,serverResolutionsArr){var curDate=new Date();var returnArr=new Array(numDays);for(var i=0;i<numDays;i++){var dateStr=curDate.getUTCFullYear()+"-"+SOTE.util.zeroPad(eval(curDate.getUTCMonth()+1),2)+"-"+SOTE.util.zeroPad(curDate.getUTCDate(),2);returnArr[i]={displayName:(displayNameStr+"__"+dateStr),wmsProductName:wmsProductNameStr,time:dateStr,format:formatStr,urls:urlsArr,tileSize:tileSizeArr,projection:projectionStr,numZoomLevels:numZoomLevelsInt,maxExtent:maxExtentArr,maxResolution:maxResolutionFloat,resolutions:screenResolutionsArr,serverResolutions:serverResolutionsArr,preferredOpacity:preferredOpacityFloat};curDate=new Date(curDate-(1000*60*60*24))}return returnArr};SOTE.util.generateProductLayersForDateRangeTMS=function(displayNameStr,wmsProductNameStr,formatStr,urlsArr,tileSizeArr,projectionStr,numZoomLevelsInt,maxExtentArr,maxResolutionFloat,preferredOpacityFloat,numDays,screenResolutionsArr,serverResolutionsArr,tileMatrixSetStr){var curDate=new Date();var returnArr=new Array(numDays);for(var i=0;i<numDays;i++){var dateStr=curDate.getUTCFullYear()+"-"+SOTE.util.zeroPad(eval(curDate.getUTCMonth()+1),2)+"-"+SOTE.util.zeroPad(curDate.getUTCDate(),2);returnArr[i]={displayName:(displayNameStr+"__"+dateStr),wmsProductName:wmsProductNameStr,time:dateStr,format:formatStr,urls:urlsArr,tileSize:tileSizeArr,projection:projectionStr,numZoomLevels:numZoomLevelsInt,maxExtent:maxExtentArr,maxResolution:maxResolutionFloat,resolutions:screenResolutionsArr,serverResolutions:serverResolutionsArr,tileMatrixSet:tileMatrixSetStr,preferredOpacity:preferredOpacityFloat};curDate=new Date(curDate-(1000*60*60*24))}return returnArr};SOTE.util.generateProductLayersForDateRangeNoOversample=function(displayNameStr,wmsProductNameStr,formatStr,urlsArr,tileSizeArr,projectionStr,numZoomLevelsInt,maxExtentArr,maxResolutionFloat,preferredOpacityFloat,numDays){var curDate=new Date();var returnArr=new Array(numDays);for(var i=0;i<numDays;i++){var dateStr=curDate.getUTCFullYear()+"-"+SOTE.util.zeroPad(eval(curDate.getUTCMonth()+1),2)+"-"+SOTE.util.zeroPad(curDate.getUTCDate(),2);returnArr[i]={displayName:(displayNameStr+"__"+dateStr),wmsProductName:wmsProductNameStr,time:dateStr,format:formatStr,urls:urlsArr,tileSize:tileSizeArr,projection:projectionStr,numZoomLevels:numZoomLevelsInt,maxExtent:maxExtentArr,maxResolution:maxResolutionFloat,preferredOpacity:preferredOpacityFloat};curDate=new Date(curDate-(1000*60*60*24))}return returnArr};SOTE.util.generateWmsProductLayersForDateRange=function(displayNameStr,wmsProductNameStr,formatStr,urlsArr,projectionStr,preferredOpacityFloat,isSingleTile,numDays){var curDate=new Date();var returnArr=new Array(numDays);for(var i=0;i<numDays;i++){var dateStr=curDate.getUTCFullYear()+"-"+SOTE.util.zeroPad(eval(curDate.getUTCMonth()+1),2)+"-"+SOTE.util.zeroPad(curDate.getUTCDate(),2);returnArr[i]={displayName:(displayNameStr+"__"+dateStr),wmsProductName:wmsProductNameStr,time:dateStr,format:formatStr,urls:urlsArr,projection:projectionStr,preferredOpacity:preferredOpacityFloat,singleTile:isSingleTile};curDate=new Date(curDate-(1000*60*60*24))}return returnArr};