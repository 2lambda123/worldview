SOTE.namespace("SOTE.widget.Switch");SOTE.widget.Switch.prototype=new SOTE.widget.Component;SOTE.widget.Switch=function(a,b){this.container=document.getElementById(a);if(this.container==null){this.setStatus("Error: element '"+a+"' not found!",true);return}this.id=a;this.containerId=a;if(b===undefined){b={}}this.value=b.selected;this.data=(b.values!==undefined)?b.values:null;this.initRenderComplete=false;this.dataSourceUrl=b.dataSourceUrl;this.statusStr="";this.init()};SOTE.widget.Switch.prototype.init=function(){this.render();if(REGISTRY){REGISTRY.register(this.id,this);REGISTRY.markComponentReady(this.id)}else{alert("No REGISTRY found!  Cannot register Switch!")}};SOTE.widget.Switch.prototype.render=function(){this.container.innerHTML="";$("#"+this.id).addClass("switch");this.container.innerHTML="<ul><li><div><img id='"+this.id+"current' src='images/geographic.png' /></div><div class='hidden'><a id='arctic'><img id='"+this.id+"arctic' src='images/arctic.png' /></a><a id='geographic'><img id='"+this.id+"geographic' src='images/geographic.png' /></a><a id='antarctic'><img id='"+this.id+"antarctic' src='images/antarctic.png' /></a></div></li></ul>";$("#arctic").bind("click",{self:this,val:"arctic"},SOTE.widget.Switch.setVal);$("#geographic").bind("click",{self:this,val:"geographic"},SOTE.widget.Switch.setVal);$("#antarctic").bind("click",{self:this,val:"antarctic"},SOTE.widget.Switch.setVal);if((this.initRenderComplete===false)&&REGISTRY){this.initRenderComplete=true}};SOTE.widget.Switch.setVal=function(c){var a=c.data.self;var b=c.data.val;a.value=b;$("#"+a.id+"current").attr("src","images/"+a.value+".png");a.fire()};SOTE.widget.Switch.prototype.fire=function(){if(REGISTRY){REGISTRY.fire(this)}else{alert("No REGISTRY found! Cannot fire to REGISTRY from Switch!")}};SOTE.widget.Switch.prototype.setValue=function(a){this.value=a;$("#"+this.id+"current").attr("src","images/"+this.value+".png");this.validate();this.fire()};SOTE.widget.Switch.prototype.getValue=function(){var a=this.id+"="+this.value;return a};SOTE.widget.Switch.prototype.updateComponent=function(a){};SOTE.widget.Switch.handleUpdateSuccess=function(b,a){};SOTE.widget.Switch.handleUpdateFailure=function(d,a,c,b){alert("Failed to load data accessor: "+c)};SOTE.widget.Switch.prototype.loadFromQuery=function(a){return this.setValue(SOTE.util.extractFromQuery(this.id,a))};SOTE.widget.Switch.prototype.validate=function(){var a=true;return a};SOTE.widget.Switch.prototype.setDataSourceUrl=function(a){this.dataSourceUrl=a};SOTE.widget.Switch.prototype.getDataSourceUrl=function(){return this.dataSourceUrl};SOTE.widget.Switch.prototype.setStatus=function(a){this.statusStr=a};SOTE.widget.Switch.prototype.getStatus=function(){return this.statusStr};